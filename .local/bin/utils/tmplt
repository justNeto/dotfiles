#!/bin/zsh

ClearScreen()
{
	clear; tput cup $(($(tput lines)/3)); tput bold && set -f
}

HowToCallScript()
{
	echo "How do you want to call the $dest script?"
}

HowToCallFile()
{
	echo "How do you want to call the $dest file?"
}

HowToCallProgram()
{
	echo "How do you want to call the $dest program?"
}

HowToCallArticle()
{
	echo "How do you want to call the $dest article?"
}

ClearScreen
clear; echo "Which type of file will you write?"
dest=$(cat ~/.config/templates | fzf | cut -d'|' -f2) && notify-send "$dest"

case "$dest" in # total files : 14

	# Scripts : 2
	.py) ClearScreen && HowToCallScript && cp ~/Templates/script.py $PWD && read -r name && mv script.py $name.py && nvim $name.py ;;
	bash) ClearScreen && HowToCallScript && cp ~/Templates/script $PWD && read -r name && mv script $name && sudo chmod +x $name && nvim $name ;;

	# Tex articles : 4
	main.tex) ClearScreen && HowToCallArticle && cp ~/Templates/main.tex $PWD && read -r name && mv main.tex $name.tex && nvim $name.tex ;;
	page.tex) ClearScreen && HowToCallArticle && cp ~/Templates/page.tex $PWD && read -r name && mv page.tex $name.tex && nvim $name.tex ;;
	titlepage.tex) ClearScreen && HowToCallArticle && cp ~/Templates/titlepage.tex $PWD && read -r name && mv titlepage.tex $name.tex && nvim $name.tex;;
	bib.tex) ClearScreen &&  HowToCallArticle && cp ~/Templates/mybib.bib $PWD && read -r name && mv mybib.bib $name.bib && nvim $name.tex;;

	# Programs : 5
	.asm) ClearScreen && HowToCallProgram  && cp ~/Templates/program.asm $PWD && read -r name && mv program.asm $name.asm && nvim $name.asm ;;
	.java) ClearScreen && HowToCallProgram && cp ~/Templates/program.java $PWD && read -r name && mv program.java $name.java && nvim $name.java ;;
	.c) ClearScreen && HowToCallProgram && cp ~/Templates/program.c $PWD && read -r name && mv program.c $name.c && nvim $name.c ;;
	.h) ClearScreen && echo "How do you want to call the $dest header file?" && cp ~/Templates/program.h $PWD && read -r name && mv program.h $name.h && nvim $name.h ;;
	.cpp) ClearScreen && HowToCallProgram && cp ~/Templates/program.cpp $PWD && read -r name && mv program.cpp $name.cpp && nvim $name.cpp ;;

	# Files : 3
	.razor) ClearScreen && HowToCallFile && cp ~/Templates/file.razor $PWD && read -r name && mv file.razor $name.razor && nvim $name.razor ;;
	.html) ClearScreen && HowToCallFile && cp ~/Templates/file.html $PWD && read -r name && mv file.html $name.html && nvim $name.html ;;
	.ms) ClearScreen && HowToCallFile && cp ~/Templates/article.ms $PWD && read -r name && mv article.ms $name.ms && nvim $name.ms ;;

esac
