#!/usr/bin/env zsh

dispGitInfo() {
  local branch
  branch=$(git symbolic-ref --short HEAD 2>/dev/null)

  if [[ "$branch" == "main" ]]; then
    echo "  -> on $branch"
  else
    echo "  -> on  $branch"
  fi
}

dispSubInfo() {
  local branch
  branch=$(git symbolic-ref --short HEAD 2>/dev/null)

  if [[ "$branch" == "main" ]]; then
    echo "inside   repo -> on $branch"
  else
    echo "inside   repo -> on  $branch"
  fi
}

checkIfGitDir() {
  if [[ -d .git ]]; then
    dispGitInfo
  elif git rev-parse --git-dir > /dev/null 2>&1; then
    dispSubInfo
  else
    echo "no  "
  fi
}

checkIfGitDir
